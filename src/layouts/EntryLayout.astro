---
import BaseLayout from './BaseLayout.astro';
import type { CollectionEntry } from 'astro:content';

interface Props {
  entry: CollectionEntry<'entries'>;
  prev: CollectionEntry<'entries'> | null;
  next: CollectionEntry<'entries'> | null;
}

const { entry, prev, next } = Astro.props;
const { data } = entry;

const description = `"${data.passage.trim().slice(0, 120)}..." — ${data.author}`;
---

<BaseLayout title={`${data.title} — The Human Element`} description={description}>
  <slot />

  {(prev || next) && (
    <nav class="entry-nav" aria-label="Previous and next entries">
      {prev ? (
        <a href={`/entry/${prev.id}`}>
          <span class="nav-label">Previous</span>
          <span class="nav-title">{prev.data.title}</span>
        </a>
      ) : <span />}
      {next ? (
        <a href={`/entry/${next.id}`} class="nav-next">
          <span class="nav-label">Next</span>
          <span class="nav-title">{next.data.title}</span>
        </a>
      ) : <span />}
    </nav>
  )}
</BaseLayout>
